---
title: sql 会引起全表扫码的语句
date: 2018-04-18 23:10:15
tags:
categories: PHP
top: 20
---

#### 1、模糊查询效率很低：
    like % ... %   //会全表扫描
    like %...       //会全表扫描
    like ...%       //这种之前建立的索引会起作用
    
#### 2、查询条件中含有is null的select语句执行慢

is not null 时永远不会使用索引。一般数据量大的表不要用is null查询。


#### 3、查询条件中使用了不等于操作符（<>、!=）的select语句执行慢

原因：SQL中，不等于操作符会限制索引，引起全表扫描，即使比较的字段上有索引
解决方法：通过把不等于操作符改成or，可以使用索引，避免全表扫描。例如，把column<>’aaa’，改成column<’aaa’ or column>’aaa’，就可以使用索引了。

#### 4、or语句使用不当会引起全表扫描
原因：where子句中比较的两个条件，一个有索引，一个没索引，使用or则会引起全表扫描。例如：where A=：1 or B=：2，A上有索引，B上没索引，则比较B=：2时会重新开始全表扫描。